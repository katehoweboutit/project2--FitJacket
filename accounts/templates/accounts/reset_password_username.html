{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h2>Reset Password Using Username</h2>
    <form method="POST">
        {% if messages %}
            <div class="container mt-3">
                {% for message in messages %}
                    <div class="alert
                        {% if message.tags == 'error' %}
                            alert-danger
                        {% elif message.tags == 'success' %}
                            alert-success
                        {% elif message.tags == 'warning' %}
                            alert-warning
                        {% elif message.tags == 'info' %}
                            alert-info
                        {% else %}
                            alert-secondary
                        {% endif %}
                        alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        {% csrf_token %}
        <label for="username">Username</label>
        <input type="text" name="username" value="{{ request.POST.username }}" required class="form-control">

        <label for="new_password">New Password</label>
        <input type="password" name="new_password" required class="form-control">

        <label for="confirm_password">Confirm Password</label>
        <input type="password" name="confirm_password" required class="form-control">

        <button type="submit" class="btn btn-primary mt-3">Reset Password</button>
    </form>
    <a href="{% url 'accounts.login' %}" class="btn btn-secondary mt-2">Back to Login</a>
</div>
{% endblock %}